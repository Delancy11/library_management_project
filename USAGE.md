# 图书管理系统 - 使用说明

## 🚀 快速启动

### 方法1：使用简化启动脚本（推荐）
```bash
python start_server.py
```

### 方法2：使用原始启动脚本
```bash
python run.py
```

### 方法3：使用数据库清理重建
```bash
python clean_database.py
python start_server.py
```

## 📋 账户信息

### 管理员账户
- 用户名: `admin`
- 密码: `admin123`
- 权限: 管理员（可管理所有功能）

### 普通用户账户（已创建）
- 用户名: `testuser`
- 密码: `test123`
- 权限: 普通用户（只能借阅图书和管理个人资料）

### 注册新用户
- 访问 http://localhost:5000/register
- 填写用户信息进行注册

## 🌐 访问地址

- 主要地址: http://localhost:5000
- 备用地址: http://127.0.0.1:5000

## 🔧 功能说明

### 管理员功能
1. **仪表板** - 查看系统统计信息
2. **用户管理** - 管理所有用户账户
3. **图书管理** - 添加、编辑、删除图书
4. **分类管理** - 创建和管理图书分类
5. **借阅记录** - 查看和管理借阅记录

### 普通用户功能
1. **用户中心** - 查看个人信息和借阅统计
2. **图书浏览** - 搜索和浏览可借阅的图书
3. **图书借阅** - 借阅和归还图书
4. **借阅历史** - 查看个人借阅记录
5. **个人资料** - 管理个人信息

## 📚 示例数据

系统已预置以下示例数据：

### 默认分类（7个）
- 文学小说
- 科学技术
- 经济管理
- 教育学习
- 艺术设计
- 生活健康
- 历史传记

### 示例图书（2本）
1. 《Python编程从入门到精通》 - 科学技术类
2. 《活着》- 文学小说类

## 🔑 权限说明

- **管理员**：可以访问所有功能，包括用户管理、系统设置
- **普通用户**：只能访问用户相关功能，不能访问管理后台
- **权限隔离**：用户只能看到和管理自己的数据

## 🐛 常见问题

### 1. 数据库连接失败
- 检查MySQL服务是否启动
- 确认 `config.py` 中的数据库配置正确
- 检查MySQL用户权限

### 2. 端口被占用
- 修改 `start_server.py` 中的端口号
- 或者关闭占用5000端口的其他程序

### 3. 登录后跳转错误
- 清除浏览器缓存和Cookie
- 确认使用了正确的用户类型（管理员/普通用户）
- 如果问题持续，可以尝试重建数据库

### 4. 权限问题
- 管理员可以访问所有功能
- 普通用户只能访问用户功能
- 如果普通用户误入管理员页面，会自动跳转

## 🔒 安全说明

- 密码使用bcrypt加密存储
- 系统有CSRF保护
- 用户会话安全管理
- 数据库查询防SQL注入

## 📞 技术支持

如果遇到问题，可以：
1. 查看控制台错误信息
2. 检查MySQL服务状态
3. 重新创建数据库：`python clean_database.py`
4. 重新启动应用

---

**系统版本**: 1.0.0
**最后更新**: 2024年12月
**技术栈**: Flask + MySQL + Bootstrap